---
title: "P8105 HW1 – mk4992"
author: "Maryam Khalid"
output:
  github_document:
    toc: true
    toc_depth: 2
editor_options:
  chunk_output_type: console
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, message = FALSE, warning = FALSE)
set.seed(8105)
```

## Problem 1

```{r libraries}
library(moderndive)  
library(ggplot2)     
```

```{r load-data}
data("early_january_weather")
```

**Data Summary** 
Rows: `r nrow(early_january_weather)`  
Columns: `r ncol(early_january_weather)`  
Mean temperature: `r round(mean(early_january_weather$temp, na.rm = TRUE), 1)` °F

Key variables (see help in Console with `?early_january_weather`):`time_hour` (date-time), `temp` (°F), `humid` (0–100), `dewp`, `wind_dir`, `wind_speed`, `visib`, `pressure`, etc.

**Scatterplot: temp(y) vs time_hour(x); colored by humidity**

```{r plot-temp-vs-time, fig.width=8, fig.height=4}
p_temp_time <- ggplot(early_january_weather,
                      aes(x = time_hour, y = temp, color = humid)) +
  geom_point(alpha = 0.7, size = 1.5, na.rm = TRUE) +
  scale_color_continuous(name = "Humidity") +
  labs(
    title = "Temperature over Time (colored by Humidity)",
    x = "Time (hourly)",
    y = "Temperature (°F)"
  ) +
  theme_minimal(base_size = 12)

p_temp_time
```

**Note:** The temperature fluctuates daily from day to night. In addition, when the temperature is higher, the humidity is typically increased as well.

```{r save-plot}
ggsave("temp_vs_time_humid_scatter.png", p_temp_time, width = 8, height = 4, dpi = 300)
```

```{r}
sessionInfo()
```

## Problem 2

```{r p2-libraries, message=FALSE, warning=FALSE}
library(dplyr) 
```

```{r p2-create-dataset}
set.seed(8105)

num_vec  <- rnorm(10) # numeric: N(0,1)
log_vec  <- num_vec > 0  # logical: TRUE if > 0
char_vec <- sample(letters, size = 10, replace = TRUE) # character: 10 letters
fac_vec  <- factor(sample(c("low", "med", "high"), size = 10, replace = TRUE), levels = c("low", "med", "high"))  # factor: 3 levels

df <- tibble::tibble(
  num         = num_vec,
  is_positive = log_vec,
  code        = char_vec,
  tier        = fac_vec
)

df
```

**Means that work (numeric & logical):**
```{r p2-means-success}
mean_num <- mean(pull(df, num))
mean_log <- mean(pull(df, is_positive))  # TRUE = 1, FALSE = 0 → proportion TRUE

mean_num
mean_log
```

**Means that don’t work (character & factor):**  
```{r p2-means-fail, error=TRUE}
mean(pull(df, code))  # character --> NA with warning
mean(pull(df, tier))  # factor --> NA with warning
```

**Coercion with `as.numeric()` (show code, hide output):**
```{r p2-coercion, results='hide', warning=FALSE}
as_num_log    <- as.numeric(df$is_positive)  # either 0/1
as_num_char   <- as.numeric(df$code)         # NA (non-numeric strings)
as_num_factor <- as.numeric(df$tier)         # integer level codes as 1, 2, and 3

# (Hidden) quick peeks:
head(as_num_log); head(as_num_char); head(as_num_factor)
```

**Explanation**  
- `logical → numeric` becomes **0 or 1**, so `mean(TRUE/FALSE)` is the arithmetic mean of zeroes and ones.

- `character → numeric` gives **NA** since certain string items like letters cannot be converted into numbers. Thus, the mean is undefined.

- `factor → numeric` returns **level codes** (e.g., low=1, med=2, high=3) based on how the variable was defined. Thus, a mean can be calculated from this conversion but it may not be statistically reflective of the datapoints in the categories.